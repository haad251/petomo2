<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.ejo.petwalk.dao.ManagerMapper">

	<insert id="insertNewService" parameterType="ServiceVO">
		insert into service_tb
		(
			service_name
			,service_price
			,service_time
			,service_info
			,service_type
		)
		values
		(
			#{service_name}
			,#{service_price}
			,#{service_time}
			,#{service_info}
			,#{service_type}
		
		)
	</insert>
	
	<select id="selectAllService" parameterType="ServiceVO" resultType="ServiceVO">
		select * from service_tb
	</select>
	
	<select id="selectOneService" parameterType="String" resultType="ServiceVO">
		select * from service_tb
		where
			service_id = #{service_id}
	</select>
	
	<delete id="deleteOneService" parameterType="String">
		delete from service_tb
		where
			service_id = #{service_id}
	</delete>
	
	<update id="updateService" parameterType="String">
		update service_tb
		set
			service_name= #{service_name}
			,service_price = #{service_price}
			,service_time = #{service_time}
			,service_info = #{service_info}
			,service_type = #{service_type}
		where
			service_id = #{service_id}
	</update>
	
	<!-- [Manger] MangerMyPage에서 쓸 모든 예약불러오기 -->
 	<select id="selectAllRes"  resultType="ReservationVO">
      	SELECT *
		FROM reservation_tb
 	</select>
 	
 	<!--  [Manger] 오늘의 예약 목록 -->
 	<select id="selectResByDate"  parameterType="String" resultType="ReservationVO">
      	SELECT *
		FROM 
			reservation_tb
		WHERE
			DATE_FORMAT(res_start, '%Y-%m') = #{res_start}
 	</select>
 	
 	<!--  [Manger] 이달의 예약 목록-->
 	<select id="selectResByMonth"  parameterType="String" resultType="ReservationVO">
      	SELECT *
		FROM 
			reservation_tb
		WHERE
			DATE_FORMAT(res_start, '%Y-%m') = #{res_start}
 	</select>
 	
 	<!--  [Manger] 올해의 예약 목록 -->
 	<select id="selectResByYear"  parameterType="String" resultType="ReservationVO">
      	SELECT *
		FROM 
			reservation_tb
		WHERE
			DATE_FORMAT(res_start, '%Y') = #{res_start}
 	</select>
 	

</mapper>